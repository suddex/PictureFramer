<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Photo to Frame GLB Exporter</title>
    <style>
        body { font-family: system-ui, sans-serif; margin: 2em; background-color: #2e2e2e; color: #f0f0f0;}
        .controls { margin-bottom: 1em; max-width: 500px; }
        .control-group { margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; }
        .border-controls { border-left: 2px solid #555; padding-left: 15px; margin-left: 10px; }
        label { flex-basis: 50%; }
        p.note { font-size: 0.9em; color: #aaa; margin-top: -10px; }
        button { padding: 10px 15px; cursor: pointer; }
        button:disabled { cursor: not-allowed; opacity: 0.5; }
        
        /* New styles for pairing slider and number input */
        .input-pair { display: flex; align-items: center; justify-content: flex-end; flex-basis: 50%; }
        .input-pair input[type="range"] { flex-grow: 1; }
        .input-pair input[type="number"] { width: 70px; margin-left: 10px; text-align: right; }
    </style>
</head>
<body>
    <h1>Photo to Frame GLB Exporter</h1>
    <p>All measurements are in centimeters (cm)</p>
    <div class="controls">
        <div class="control-group">
            <label for="image-input">1. Select Photo:</label>
            <input type="file" id="image-input" accept="image/png, image/jpeg, image/jpg">
        </div>
        <div class="control-group">
            <label for="width-slider">2. Set Frame Width (cm):</label>
            <div class="input-pair">
                <input type="range" id="width-slider" min="1" max="200" step="0.1" value="30">
                <input type="number" id="width-number" min="1" max="200" step="0.1" value="30">
            </div>
        </div>
        <div class="control-group">
            <label for="height-slider">3. Set Frame Height (cm):</label>
            <div class="input-pair">
                <input type="range" id="height-slider" min="1" max="200" step="0.1" value="20">
                <input type="number" id="height-number" min="1" max="200" step="0.1" value="20">
            </div>
        </div>
        <div class="control-group">
            <label for="depth-slider">4. Set Frame Depth (cm):</label>
            <div class="input-pair">
                <input type="range" id="depth-slider" min="0.1" max="50" step="0.1" value="2">
                <input type="number" id="depth-number" min="0.1" max="50" step="0.1" value="2">
            </div>
        </div>
        
        <hr>
        
        <div class="control-group">
            <label for="border-checkbox">5. Add White Border:</label>
            <input type="checkbox" id="border-checkbox" style="transform: scale(1.2);">
        </div>
        <div class="border-controls">
            <div class="control-group">
                <label for="border-cm-slider">Border Size (cm):</label>
                <div class="input-pair">
                    <input type="range" id="border-cm-slider" min="0" max="10" step="0.1" value="2.5" disabled>
                    <input type="number" id="border-cm-number" min="0" max="10" step="0.1" value="2.5" disabled>
                </div>
            </div>
            <p class="note">Border size cannot be more than half the frame's smallest dimension.</p>
        </div>
        
        <hr>

        <button id="export-btn" disabled>6. Generate and Download GLB</button>
    </div>
    
    <script type="importmap">{ "imports": { "three": "https://unpkg.com/three@0.165.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.165.0/examples/jsm/" } }</script>
    <script type="module" src="app.js"></script>
</body>
</html>